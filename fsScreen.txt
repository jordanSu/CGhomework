#version 330

// Default color buffer location is 0
// If you create framebuffer your own, you need to take care of it
layout(location=0) out vec4 outputColor;

in vec2 fTexcoord;	// Texture coordinate

//Uniforms
uniform float pixelMulti;
uniform float Zoom;
uniform float circleArea;
uniform vec2 mouseLoc;
uniform sampler2D uSampler;

void main()
{
    vec2 finalTexcoord;

	if (pow(gl_FragCoord.x-(mouseLoc.x*pixelMulti),2) + pow(gl_FragCoord.y-(mouseLoc.y*pixelMulti),2) <= circleArea)
        finalTexcoord = (fTexcoord - 0.5)*(1.0/Zoom)+0.5;
    else
        finalTexcoord = fTexcoord;
    outputColor = texture(uSampler, finalTexcoord);
}
